# 多尺度目标检测

图像中的物体可能具有各种各样的大小，从非常小的物体（如远处的行人）到非常大的物体（如近处的汽车）。这种物体尺度的巨大差异给目标检测带来了巨大的挑战。**多尺度目标检测（Multi-scale Object Detection）** 技术旨在通过在不同尺度上处理图像或特征图来有效地检测不同大小的物体。

## 挑战

- **小物体检测困难**：小物体在经过多层卷积和池化后，其特征信息可能会丢失或变得非常微弱。
- **大物体检测效率低**：如果只使用高分辨率的特征图来检测所有物体，计算成本会非常高。

## 核心思想

多尺度目标检测的核心思想是：**利用不同尺度的特征图来检测不同大小的物体**。

- **高分辨率特征图**：包含更多细节信息，适合检测小物体。
- **低分辨率特征图**：包含更多语义信息，感受野更大，适合检测大物体。

## 常见策略

1.  **图像金字塔 (Image Pyramid)**：
    -   对原始图像进行不同尺度的缩放，生成一个图像金字塔。
    -   在每个尺度的图像上独立运行检测器。
    -   **优点**：简单直观，对不同尺度的物体检测效果好。
    -   **缺点**：计算成本高，因为需要在每个尺度上重复计算。

2.  **特征金字塔 (Feature Pyramid)**：
    -   在深度神经网络的不同层提取特征图，这些特征图天然具有不同的尺度和语义信息。
    -   **自下而上路径**：从网络的浅层到深层，特征图的分辨率逐渐降低，语义信息逐渐增强。
    -   **自上而下路径**：从深层（高语义）特征图通过上采样（upsampling）生成高分辨率特征图。
    -   **横向连接**：将自下而上路径和自上而下路径的特征图进行融合，以结合高分辨率的细节信息和高语义的上下文信息。
    -   **代表模型**：**特征金字塔网络 (Feature Pyramid Network, FPN)** 是最著名的特征金字塔结构。

3.  **多尺度锚框 (Multi-scale Anchor Boxes)**：
    -   在不同尺度的特征图上，使用不同尺寸和长宽比的锚框来检测物体。例如，在小尺寸特征图上使用大锚框来检测大物体，在大尺寸特征图上使用小锚框来检测小物体。

多尺度目标检测是现代高性能目标检测器（如 Faster R-CNN, SSD, YOLO）的关键组成部分。
