# 全卷积网络 (Fully Convolutional Network, FCN)

全卷积网络（Fully Convolutional Network, FCN）是语义分割领域的开创性工作，由 Jonathan Long 等人在 2015 年提出。它首次将深度学习应用于像素级的图像分割任务，并证明了端到端训练的卷积网络可以直接输出与输入图像相同大小的分割图。

## 核心思想

FCN 的核心思想是：**将传统 CNN 中的全连接层替换为卷积层**。

- **传统 CNN 的局限**：传统的 CNN 在进行图像分类时，通常在网络的末端使用全连接层。全连接层需要固定大小的输入，并且会丢失空间信息，因此无法直接用于像素级的密集预测任务。
- **FCN 的改进**：FCN 移除了所有全连接层，只保留卷积层。这意味着 FCN 可以接受任意大小的输入图像，并输出相应大小的特征图。

## 架构

FCN 的架构通常分为两个部分：

1.  **编码器 (Encoder)**：通常是一个预训练的分类网络（如 VGG 或 ResNet），用于提取图像的特征。随着编码器的深入，特征图的分辨率逐渐降低，但语义信息逐渐增强。
2.  **解码器 (Decoder)**：负责将编码器生成的低分辨率特征图恢复到原始图像的分辨率，以便进行像素级的分类。解码器主要使用**转置卷积（Transposed Convolution）**进行上采样。

## 跳跃连接 (Skip Connections)

为了解决上采样过程中可能导致的空间信息丢失问题，FCN 引入了**跳跃连接（Skip Connections）**。它将编码器中不同分辨率的特征图直接连接到解码器中对应的上采样层。

- **作用**：跳跃连接允许解码器结合编码器中高分辨率的细节信息和深层的高语义信息，从而生成更精确的分割结果。

## 优势

- **端到端训练**：FCN 可以进行端到端的训练，无需复杂的后处理。
- **像素级预测**：实现了图像的像素级分类，为语义分割任务奠定了基础。
- **任意输入尺寸**：可以处理任意大小的输入图像。

FCN 的提出极大地推动了语义分割领域的发展，并启发了后续许多更先进的语义分割网络架构。
